<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
int transit;
bool north_cars, south_cars, east_cars, west_cars;
bool north, south, east, west;</declaration><template><name x="5" y="5">TrafficLightNS</name><parameter>int id</parameter><declaration>// Place local declarations here.
clock x;</declaration><location id="id0" x="504" y="72"><name x="488" y="40">Wait</name></location><location id="id1" x="504" y="224"><name x="480" y="240">Green</name></location><location id="id2" x="688" y="152"><name x="678" y="122">Idle</name></location><init ref="id2"/><transition><source ref="id1"/><target ref="id2"/><label kind="guard" x="568" y="200">x &gt;= 10</label><label kind="assignment" x="568" y="216">transit -= id</label></transition><transition><source ref="id0"/><target ref="id1"/><label kind="guard" x="312" y="136">transit &lt; 4 || transit == 0</label><label kind="assignment" x="312" y="152">transit += id,
x = 0</label></transition><transition><source ref="id2"/><target ref="id0"/><label kind="assignment" x="568" y="80">x = 0</label></transition></template><template><name x="5" y="5">TrafficLightWE</name><parameter>int id</parameter><declaration>// Place local declarations here.
clock x;</declaration><location id="id3" x="504" y="72"><name x="488" y="40">Wait</name></location><location id="id4" x="504" y="224"><name x="480" y="240">Green</name></location><location id="id5" x="688" y="152"><name x="678" y="122">Idle</name></location><init ref="id5"/><transition><source ref="id4"/><target ref="id5"/><label kind="guard" x="568" y="200">x &gt;= 10</label><label kind="assignment" x="568" y="216">transit -= id</label></transition><transition><source ref="id3"/><target ref="id4"/><label kind="guard" x="312" y="136">transit &gt; 3 || transit == 0</label><label kind="assignment" x="312" y="152">transit += id,
x = 0</label></transition><transition><source ref="id5"/><target ref="id3"/><label kind="assignment" x="568" y="80">x = 0</label></transition></template><template><name>SensorNorth</name><location id="id6" x="256" y="0"></location><location id="id7" x="0" y="0"></location><init ref="id7"/><transition><source ref="id7"/><target ref="id7"/><nail x="-64" y="64"/><nail x="-64" y="-64"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="guard" x="328" y="-8">?north</label><nail x="320" y="-64"/><nail x="320" y="64"/></transition><transition><source ref="id6"/><target ref="id7"/><label kind="guard" x="96" y="48">?north</label><label kind="assignment" x="96" y="64">north_cars=0</label><nail x="128" y="32"/></transition><transition><source ref="id7"/><target ref="id6"/><label kind="assignment" x="96" y="-64">north_cars=1</label><nail x="128" y="-32"/></transition></template><system>// Place template instantiations here.
NS = TrafficLightNS(1);
SN = TrafficLightNS(2);
WE = TrafficLightWE(4);
EW = TrafficLightWE(8);


// List one or more processes to be composed into a system.
system NS, SN, WE, EW;</system></nta>